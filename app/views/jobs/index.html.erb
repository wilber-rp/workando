<div class="mini-card-jobs-container">
  <% if @jobs.none?  %>
  <%# Se n√£o houver Job aparecer√° a mensagem abaixo %>
    <div class="flash flash-danger alert alert-dismissible fade show  " role="alert">
      <span><strong>Oops!</strong> üò± N√£o h√° vagas dispon√≠veis!</span>
      <a data-bs-dismiss="alert" aria-label="Close" style="position: absolute; top: 5px; right: 8px;">
        <i class="fas fa-times"></i>
      </a>
    </div>
  <% else %> <%# Executar as linhas de baixo %>

  <% if current_user.company.present? && current_user.company.jobs.any? %> <%# esta vendo se o currente.user e company e se tiver vagas vai mostrar o q esta a baixo %>
    <h2>Minhas vagas</h2>
    <% @jobs.each do |job| %>
        <%# aqui pensei em colocarmos uma interpola√ß√£o do n¬∞ da vaga antes da descri√ß√£o. Ex: Vaga 1- Pedreiro. Vaga-2 Gar√ßom. %>
        <%= link_to job_path(job) do %>
        <div class="mini-card-list">
          <li class="mini-card-info-row">
            <div class="mini-card-interest-area">
              <strong><%= job.interest_area.name %></strong>
            </div>
            <div class="mini-card-likes">
              <% if job.matches.where(dislike: false).count > 0 %>
                <i class="far fa-thumbs-up thumb"></i> <strong><%= job.matches.where(dislike: false).count %></strong>
              <% else %>
                <i class="far fa-thumbs-up thumb"></i> <strong><%= job.matches.where(dislike: false).count %></strong>
              <% end %>
            </div>
          </li>
        </div>
      <% end %>
    <% end %>
  <%= link_to 'NOVA VAGA', new_job_path, class: 'button button-blue button-no-border' %>
  <%= link_to 'VOLTAR', company_path(current_user.company), class: 'button button-transparent' %>







    <% else %>
      <%# mostrar a parte do candidato. %>
      <div class="card-show-job" data-controller="job-animation" data-job-animation-target="divAnimate">
        <div class="descriptions">
          <ul class="list-group list-group-flush ">
            <li class="list-group-item bg-transparent text-white"></i> <strong> <h1> <strong><%= @job.interest_area.name.upcase %></strong> </h1> </strong></li>
            <li class="list-group-item bg-transparent text-white"><i class="fa-solid fa-user-tie"></i> <strong>Contratante: </strong> <%= @job.company.company_name %></li>
            <li class="list-group-item bg-transparent text-white"><i class="fa-solid fa-dollar-sign"></i> <strong>Remunera√ß√£o: R$ <%= @job.salary %>0/h</strong></li>
            <li class="list-group-item bg-transparent text-white"><i class="fa-solid fa-location-dot"></i> <strong>Endere√ßo: </strong> <%= @job.address %></li>
            <li class="list-group-item bg-transparent text-white"><i class="fa-solid fa-road"></i> <strong>Dist√¢ncia: </strong> <%= @job.distances[0].distance %> km</li>
          </ul>
        </div>
        <div class="map" data-controller="map" data-map-markers-value="<%= @marker.to_json %>" data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div>
        <div id="description-text">
            <li class="list-group-item bg-transparent text-white"></i> <strong>Descri√ß√£o: </strong> <%= @job.description %></li>
        </div>
        <div class="buttons">
        <%= button_to job_matches_path(job_id: @job.id, dislike: true), method: :post, class:"button-dislike" do  %>
          <i class="fa-regular fa-thumbs-down" data-job-animation-target="jobLeft" data-action="click->job-animation#left"></i>
        <% end %>
        <%= button_to job_matches_path(job_id: @job.id, dislike: false), method: :post, class: "button-like" do %>
          <i class="fa-regular fa-thumbs-up" data-job-animation-target="jobRight" data-action="click->job-animation#right"></i>
        <% end %>
        </div>
      </div>
    <% end %>
  <% end %>
</div>
