<div class="container">
<% if @jobs.none?  %>
<%# Se n√£o houver Job aparecer√° a mensagem abaixo %>
  <div class="flash flash-danger alert alert-dismissible fade show" role="alert">
    <span><strong>Oops!</strong> üò± Voc√™ precisa criar uma vaga. </span>
    <a data-bs-dismiss="alert" aria-label="Close">
      <i class="fas fa-times"></i>
    </a>
  </div>
  <% else %>
  <%# Executar as linhas de baixo %>
  <% if current_user.company.present? && current_user.company.jobs.any? %>
  <%# esta vendo se o currente.user e company e se tiver vagas vai mostrar o q esta a baixo %>
    <h1 class="text-center text-white my-3" >Minhas vagas anunciadas</h1>
    <% @jobs.each do |job| %>
      <div class="card bg-card-job" >
        <ul class="list-group list-group-flush ">
          <li class="list-group-item bg-transparent text-white"><i class="fa-solid fa-quote-left"></i> <strong>Description:</strong> <%= job.description %></li>
          <li class="list-group-item bg-transparent text-white"><i class="fa-solid fa-dollar-sign"></i> <strong>Salary:</strong> <%= job.salary %></li>
          <li class="list-group-item bg-transparent text-white"><i class="fa-solid fa-briefcase"></i> <strong>Company:</strong> <%= job.company.company_name %></li>
          <li class="list-group-item bg-transparent text-white">
            <% if job.matches.where(dislike: false).count > 0%>
              <i class="fa-regular fa-thumbs-up"></i> <strong>Likes:</strong> <%= job.matches.where(dislike: false).count %>
            <% else %>
                N√£o h√° candidatos ainda.
            <% end %>
          </li>
        </ul>
      </div>
      <%= link_to 'Ver mais', job_path(job), class: "button"%>
    <% end %>
  <% else %>
  <%# mostrar a parte do candidato. %>

    <div class="card-show-job" data-controller="job-animation" data-job-animation-target="divAnimate">
      <div class="descriptions">
        <ul class="list-group list-group-flush ">
          <li class="list-group-item bg-transparent text-white"></i> <strong> <h1> <%= @job.interest_area.name.upcase %> </h1> </strong></li>
          <li class="list-group-item bg-transparent text-white"><i class="fa-solid fa-user-tie"></i> <strong>Contratante: </strong> <%= @job.company.company_name %></li>
          <li class="list-group-item bg-transparent text-white"><i class="fa-solid fa-dollar-sign"></i> <strong>Remunera√ß√£o: R$ <%= @job.salary %>0/h</strong></li>
          <li class="list-group-item bg-transparent text-white"><i class="fa-solid fa-quote-left"></i> <strong>Descri√ß√£o: </strong> <%= @job.description %></li>
          <li class="list-group-item bg-transparent text-white"><i class="fa-solid fa-location-dot"></i> <strong>Endere√ßo: </strong> <%= @job.address %></li>
          <li class="list-group-item bg-transparent text-white"><i class="fa-solid fa-road"></i> <strong>Distancia: </strong> <%= @job.distances[0].distance %> km</li>
        </ul>
      </div>
      <div class="map">
        MAP HERE
      </div>
      <div class="buttons">
        <%= button_to job_matches_path(job_id: @job.id, dislike: false), method: :post, class: "button-like" do %>
          <i class="fa-regular fa-thumbs-up" data-job-animation-target="jobLeft" data-action="click->job-animation#left"></i>
        <% end %>
        <%= button_to job_matches_path(job_id: @job.id, dislike: true), method: :post, class:"button-dislike" do  %>
          <i class="fa-regular fa-thumbs-down" data-job-animation-target="jobRight" data-action="click->job-animation#right"></i>
        <% end %>
      </div>
    </div>

  <% end %>
<% end %>
</div>
